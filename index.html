<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <!--<base href="https://madm1.logibec.com/madm/">--><base href=".">

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta http-equiv="cache-control" content="max-age=0">
        <meta http-equiv="cache-control" content="no-cache">
        <meta http-equiv="expires" content="0">
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT">
        <meta http-equiv="pragma" content="no-cache">

        <title>BoxMan Mobile</title>

        <link rel="stylesheet" href="scripts/app/libs/animate-css/animate.css" />
        <link rel="stylesheet" href="scripts/framework/kendoui.min.css" />

        <link rel="stylesheet" href="sites/shared/css/bootstrap.css" />
        <link rel="stylesheet" href="sites/shared/css/base.css" />
        <link rel="stylesheet" href="sites/mobile/css/app.css" />
     
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <script type='text/javascript' src="scripts/libs/jquery/jquery-1.9.1.min.js"></script>
        <script type ="text/javascript" src="scripts/framework/extensions/json/json.dateparser.js"></script>
        <script>
            Date.prototype.toJSON = function () {
                return moment(this).format('YYYY-MM-DDTHH:mm:ss.SSSZ');
            };
        </script>
    </head>
<body id="body">
<div id="appInit" class="centeredApp">
    <div class="centeredCell">
        <div class="centeredContent">
            <div class="progress progress-striped active">
                <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%;">
                    Initialisation...
                </div>
            </div>
        </div>
    </div>
</div>
<div id="appError">
    <div class="centeredCell">
        <div class="centeredContent">
            <p class="bg-danger">
                <span>Une erreur est survenue.  Veuillez raffraichir la page.  Si l&#39;erreur persiste, contactez l&#39;administrateur.</span>
            </p>
        </div>
    </div>
</div>
<div id="appLoaded" class="unselectable" unselectable='on'>

<div ng-controller="appController">
            
<div bs-container="fluid"> 

    <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="navbar-header madm-nav-bar-left">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-app-navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <span class="navbar-brand navbar-brand-app-title">{{ 'APP_TITLE' | translate }}</span>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse madm-nav-bar-right" id="bs-app-navbar-collapse">
                <ul class="nav navbar-nav">
                    <li authorization="'allow'" authenticated="true"><a ng-click="pageManager.redirect('patients')">{{ 'PATIENT_LIST' | translate }}</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <div auth-login-popup></div>
                    <div culture-menu></div>
                    <div about-popup class="about-help-button"></div>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div>
    </nav>
    <div ng-view></div>
</div>

        </div>
    </div>

    <script type='text/javascript' src="sites/shared/models/Lgi.Emr.Mar.Dto.js"></script>
    <script type='text/javascript' src="scripts/libs/loader.js"></script>
    <script type='text/javascript' src="scripts/app/libs/loader.js"></script>
    <script type='text/javascript' src="scripts/framework/loader.js"></script>
    <script type='text/javascript' src="scripts/app/angular/loader.js"></script>
    
    <script type="text/javascript" src="scripts/framework/extensions/json/json.dateparser.js"></script>
    <script>
        JSON.useDateParser();
    </script>

    <script src="sites/mobile/app.js"></script>
    <script src="sites/shared/config.js"></script>
    <script src="sites/mobile/config.js"></script>

    <script type='text/javascript' src='/madm/sites/shared/controllers/madmLoginController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/notfoundController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/waitingController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/administration/administrationController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/administration/administrationSaveAllController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/administration/cancelAdministrationController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/administration/rxAdministrationController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/administration/workflowCancellationController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/administration/workflowImportController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/mx/mxCompositionController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/mx/mxSearchManagementController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/patient/patientController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/patient/patientListController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/report/reportController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/rx/rxAdHocController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/rx/rxAdHocManagementController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/rx/rxCeaseController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/rx/rxController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/rx/rxDoubleCheckDoseController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/rx/rxListController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/rx/rxManageController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/rx/rxManagementController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/rx/rxSuspensionController.js'></script>
<script type='text/javascript' src='/madm/sites/shared/controllers/signature/signatureController.js'></script>

    <script type='text/javascript' src='/madm/sites/mobile/controllers/appController.js'></script>
<script type='text/javascript' src='/madm/sites/mobile/controllers/homeController.js'></script>


    <script src="sites/shared/models/lgi.Emr.Mar.Dto_1.js"></script>
    <script src="sites/shared/services/administrationService.js"></script>
    <script src="sites/shared/services/administrationValidator.js"></script>
    <script src="sites/shared/services/advisorService.js"></script>
    <script src="sites/shared/services/patientService.js"></script>
    <script src="sites/shared/services/patientListService.js"></script>
    <script src="sites/shared/services/patientHelper.js"></script>
    <script src="sites/shared/services/visitService.js"></script>
    <script src="sites/shared/services/rxManagementService.js"></script>
    <script src="sites/shared/services/frequencyTemplateService.js"></script>
    <script src="sites/shared/services/marHttpInterceptor.js"></script>
    <script src="sites/shared/services/mdService.js"></script>
    <script src="sites/shared/services/mxService.js"></script>
    <script src="sites/shared/services/rxService.js"></script>
    <script src="sites/shared/services/appSettings.js"></script>
    <script src="sites/shared/services/parameterService.js"></script>
    <script src="sites/shared/services/rxHelperFactory.js"></script>
    <script src="sites/shared/services/versionService.js"></script>
    <script src="sites/shared/services/observationFactory.js"></script>
    <script src="sites/shared/services/observationService.js"></script>
    <script src="sites/shared/services/workflowFactory.js"></script>
    <script src="sites/shared/services/workflowService.js"></script>
    <script src="sites/shared/services/permissionsHelper.js"></script>
    <script src="sites/shared/directives/about/aboutPopupDir.js"></script>
    <script src="sites/shared/directives/about/controllers/aboutController.js"></script>
    <script src="sites/shared/directives/kendoCustomFilter/kendoCustomFilterDir.js"></script>

    
    

    <script type="text/javascript">
        $(function () {
            var options = {
                appName: "app",
                services: [
                    { name: "Result", path: 'api/systemparametersservice.svc/json/parameters', module: "lgi.infra.web.entrepriseServices", constant: "$systemParameters" },
                    { name: "Cultures", path: 'api/siteservice.svc/json/sitecultures?name=mobile', module: "lgi.infra.web.cultures", constant: "$cultures" },
                    { name: "Pages", path: 'api/siteservice.svc/json/sitepages?name=mobile', module: "lgi.infra.web.pages", constant: "$pages" }
                ],
                constants: [{
                    name: "$currentLocation",
                    module: "lgi.infra.web.locations",
                    value: {
                        name: 'mobile',
                        domain: 'http://kwgo.jchip.com',
                        rootPath: '/madm/',
                        virtualPath: '/madm/mobile/',
                        directoryPath: 'sites/mobile/',
                        viewsPath: 'sites/mobile/views/',
                        controllersPath: 'sites/mobile/controllers/',
                        resourcesPath: 'sites/mobile/i18n/'
                    }
                }]  
            };
            Bootstrap.setOptions(options);
            Bootstrap.options.onSuccess.push(function () {
                $("#appInit").hide();
                $("#appLoaded").show();
            });
            Bootstrap.options.onError.push(function () {
                $("#appInit").hide();
                $("#appError").addClass('centeredApp');
                $("#appError").css('display', 'table');
            });
            Bootstrap.init();
        });
    </script>

</body>
</html>

